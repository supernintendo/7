<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>9 two 5</title>
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Crimson+Text' type='text/css'>
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="node_modules/animate.css/animate.min.css">
        <link rel="stylesheet" href="styles/index.css">
        <script src="node_modules/jquery/dist/jquery.min.js"></script>
        <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="node_modules/moment/min/moment.min.js"></script>
        <script src="build/index.js"></script>
    </head>
    <body ng-app="app" ng-controller="MainController as main">
        <!-- Header -->
        <div class="jumbotron header">
            <div class="container">
                <h1 class="animated logo">
                    <span class="kurzwaren">9</span>
                    <span class="cubefont">TWO</span>
                    <span class="kurzwaren">5</span>
                </h1>
            </div>
        </div>

        <!-- Controls -->
        <div class="container main-controls">
            <button class="btn btn-sm btn-info add-task-button" ng-click="main.addTask()">
                <span>Add a thing</span>
            </button>
            <div class="list-filters" ng-controller="FilterController as filter">
                <input class="form-control" ng-keyup="filter.applyFilter(main.tasks)" ng-model="filter.searchPhrase"></input>
            </div>
        </div>

        <!-- Task list -->
        <div class="container">
            <ul class="list-group">
                <li class="list-group-item" ng-hide="task.hidden" ng-repeat="task in main.tasks">
                    <div class="task-name">
                        <span class="glyphicon glyphicon-ok" ng-show="task.done"></span>
                        <span ng-click="main.editTaskName(task)" ng-hide="task.editing">{{task.name}}</span>
                        <input class="form-control task-name-input" id="task_rename_{{task.id}}" ng-blur="main.stopEditingAllTasks()" type="text" ng-keydown="main.checkKey($event)" ng-model="task.name" ng-show="task.editing">
                    </div>

                    <!-- Task controls -->
                    <div class="task-controls">

                        <!-- Task timer -->
                        <div class="task-timer" ng-controller="TimerController as timer">
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm">{{task.timeString}}</button>
                                <button ng-click="timer.resumeTask(task)" ng-hide="task.playing" type="button" class="btn btn-sm">
                                    <span class="glyphicon glyphicon-play"></span>
                                </button>
                                <button ng-click="timer.pauseTask(task)" ng-show="task.playing" type="button" class="btn btn-sm btn-info">
                                    <span class="glyphicon glyphicon-pause"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Task settings -->
                        <button type="button" class="btn btn-sm" data-toggle="dropdown" aria-expanded="true">
                            <span class="glyphicon glyphicon-cog"></span>
                            <span class="caret"></span>
                        </button>

                        <div class="dropdown-menu persistent-dropdown edit-task-dropdown-options" ng-controller="TaskSettingsController as taskSettings">
                            <!-- Labels -->
                            <div class="col-sm-4">
                                <h4>Label</h4>
                                <p>
                                    <span ng-click="taskSettings.toggleLabel(task, label)" ng-repeat="label in taskSettings.labels" class="label-{{label}} label-{{taskSettings.labelState(task, label)}}"></span>
                                </p>
                            </div>

                            <!-- Compensation -->
                            <div class="col-sm-8">
                                <h4>Compensation</h4>
                                <input ng-model="task.money" class="form-control menu-input" min="0" step="0.01" type="number"></input>
                            </div>

                            <!-- Beer! -->
                            <div class="col-sm-8">
                                <input ng-model="task.beer" id="beer_toggle_{{task.id}}" type="checkbox">
                                <label for="beer_toggle_{{task.id}}">Drink a beer after completing this.</label>
                            </div>

                            <!-- Task actions -->
                            <ul>
                                <button ng-click="taskSettings.completeTask(task)" ng-hide="task.done" class="btn btn-sm">
                                    <span class="glyphicon glyphicon-ok"></span>
                                </button>
                                <button ng-click="taskSettings.openTask(task)" ng-show="task.done" class="btn btn-sm btn-success">
                                    <span class="glyphicon glyphicon-ok"></span>
                                </button>
                                <button ng-click="taskSettings.destroyTask(task)" class="btn btn-sm">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </button>
                            </ul>
                        </div>
                    </div>

                    <!-- Labels -->
                    <div class="task-labels">
                        <span class="label-{{label}}" ng-repeat="label in task.labels"></span>
                        <span class="label-money" ng-if="task.money > 0"></span>
                        <span class="label-beer" ng-show="task.beer"></span>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Footer -->
        <ol class="breadcrumb footer">
            <li><a href="https://github.com/supernintendo" target="_blank">Source</a></li>
        </ol>
    </body>
</html>